(this["webpackJsonpdog-or-cat"]=this["webpackJsonpdog-or-cat"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(6),a=n.n(s),i=n(2),o=(n(12),n(0));var l=function(){return Object(o.jsx)("header",{children:Object(o.jsxs)("div",{className:"logo",children:[Object(o.jsx)("span",{role:"img","aria-label":"dog",children:"\ud83d\udc36"}),Object(o.jsx)("span",{children:"or"}),Object(o.jsx)("span",{role:"img","aria-label":"cat",children:"\ud83d\ude3a"}),Object(o.jsx)("span",{children:"o-meter"})]})})};var u=function(e){var t=e.executeScroll;return Object(o.jsxs)("section",{className:"main-container",children:[Object(o.jsxs)("div",{className:"main-left",children:[Object(o.jsx)("h1",{children:"Let me sniff your picture..."}),Object(o.jsxs)("p",{children:["Not sure what is that creature in house, always had doubts in your closest pal? ",Object(o.jsx)("br",{})," as a specially trained sniffing AI i am here to help to identify your creature."]}),Object(o.jsx)("button",{onClick:t,children:"Start Now!"})]}),Object(o.jsx)("img",{src:"%PUBLIC_URL%/pet.png",alt:"pet"})]})};var j=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){r.result&&t(r.result.toString())},r.onerror=function(e){return n(e)}}))},d=n(4),b=n.n(d),h=n(7);function f(){return(f=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.split("base64,")[1],e.prev=1,e.next=4,fetch("https://animal-classifier-api.herokuapp.com/predict",{method:"POST",body:JSON.stringify({image_base64:"".concat(r)}),headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}n(5);var p=function(e){var t=e.elRef,n=Object(r.useState)(),c=Object(i.a)(n,2),s=c[0],a=c[1],l=Object(r.useState)(),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(r.useState)(!1),p=Object(i.a)(h,2),O=p[0],x=p[1],m=Object(r.useRef)(null);return Object(o.jsx)("div",{className:"upload-wrapper",children:Object(o.jsxs)("div",{className:"upload-container",children:[Object(o.jsx)("h2",{children:"Sniffing Time"}),Object(o.jsx)("p",{children:"Lets start by uploading an image of a cat or a dog and let me sniff !"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s&&(x(!0),function(e){return f.apply(this,arguments)}(s).then((function(e){x(!1),b(e)})))},className:"upload-form",children:[Object(o.jsxs)("div",{className:"results",children:[O&&Object(o.jsx)("p",{children:"Loading...."}),d&&Object(o.jsxs)("span",{children:["This pal is ",Object(o.jsx)("strong",{children:null===d||void 0===d?void 0:d.confidence})," a"," ",Object(o.jsx)("strong",{children:null===d||void 0===d?void 0:d.prediction})]})]}),Object(o.jsx)("input",{className:"browse",type:"file",name:"img",placeholder:"yo",ref:m,onChange:function(e){var t=e.currentTarget.files;(null===t||void 0===t?void 0:t.length)&&j(t[0]).then((function(e){return a(e)}))}}),s?Object(o.jsx)("img",{className:"preview",src:s,alt:"preview"}):Object(o.jsx)("div",{className:"place-holder",children:"?"}),Object(o.jsxs)("div",{className:"btns",ref:t,children:[Object(o.jsx)("button",{type:"button",onClick:function(e){var t;null===m||void 0===m||null===(t=m.current)||void 0===t||t.click()},children:"Upload Photo"}),Object(o.jsx)("button",{type:"submit",className:"submit-btn",children:"Sniff Sniff..."})]})]})]})})};var O=function(){return Object(o.jsxs)("footer",{children:["Site was made by ",Object(o.jsx)("strong",{children:"Yuval Karif"})," and API by"," ",Object(o.jsx)("strong",{children:"Guy Baron"})]})};var x=function(){var e=function(e){var t=Object(r.useRef)(null);return[function(){t.current&&t.current.scrollIntoView(e)},t]}({behavior:"smooth",block:"start"}),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{}),Object(o.jsx)(u,{executeScroll:n}),Object(o.jsx)(p,{elRef:c}),Object(o.jsx)(O,{})]})};n(15);a.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root"))},5:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.2905ebfa.chunk.js.map