{"version":3,"sources":["components/Header.tsx","images/pet.png","components/Main.tsx","helpers/imgToBase64.ts","helpers/api.ts","components/Upload.tsx","components/Footer.tsx","App.tsx","hooks/useScroll.tsx","index.tsx"],"names":["Header","className","role","Main","executeScroll","onClick","src","petSrc","alt","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","toString","onerror","error","img","a","data","split","fetch","method","body","JSON","stringify","image_base64","headers","response","json","console","log","Upload","elRef","useState","setImg","setResponse","loading","setLoading","useRef","ref","onSubmit","e","preventDefault","classifyImg64","then","res","confidence","prediction","type","name","placeholder","onChange","files","currentTarget","length","current","click","Footer","App","options","scrollIntoView","useScroll","behavior","block","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e677c237.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../styles/Header.scss\";\n\nfunction Header() {\n  return (\n    <header>\n      <div className=\"logo\">\n        <span role=\"img\" aria-label=\"dog\">\n          üê∂\n        </span>\n        <span>or</span>\n        <span role=\"img\" aria-label=\"cat\">\n          üò∫\n        </span>\n        <span>o-meter</span>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/pet.9e55f88c.png\";","import petSrc from \"../images/pet.png\";\nfunction Main({ executeScroll }: { executeScroll: () => void }) {\n  return (\n    <section className=\"main-container\">\n      <div className=\"main-left\">\n        <h1>Let me sniff your picture...</h1>\n        <p>\n          Not sure what is that creature in house, always had doubts in your\n          closest pal? <br /> as a specially trained sniffing AI i am here to\n          help to identify your creature.\n        </p>\n        <button onClick={executeScroll}>Start Now!</button>\n      </div>\n      <img src={petSrc} alt=\"pet\"></img>\n    </section>\n  );\n}\n\nexport default Main;\n","function getBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      if (reader.result) {\n        resolve(reader.result.toString());\n      }\n    };\n\n    reader.onerror = (error) => reject(error);\n  });\n}\n\nexport default getBase64;\n","export async function classifyImg64(img: string): Promise<any> {\n  let response;\n  let data = img.split(\"base64,\")[1];\n  try {\n    response = await fetch(\n      \"https://animal-classifier-api.herokuapp.com/predict\",\n      {\n        method: \"POST\",\n\n        body: JSON.stringify({\n          image_base64: `${data}`,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    return await response.json();\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n}\n","import React, { useState, useRef, RefObject } from \"react\";\nimport getBase64 from \"../helpers/imgToBase64\";\nimport { classifyImg64 } from \"../helpers/api\";\nimport \"../styles/components.scss\";\n\nfunction Upload({ elRef }: { elRef: RefObject<HTMLDivElement> }) {\n  const [img, setImg] = useState<string | undefined>();\n  const [response, setResponse] = useState<Response | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const file = useRef<HTMLInputElement | null>(null);\n\n  //Handlers\n\n  const handleClick = (e: React.SyntheticEvent) => {\n    file?.current?.click();\n  };\n  const handleSubmit = (e: React.SyntheticEvent) => {\n    e.preventDefault();\n    if (img) {\n      setLoading(true);\n      classifyImg64(img).then((res) => {\n        setLoading(false);\n        setResponse(res);\n      });\n    }\n  };\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | null>\n  ): void => {\n    let files: FileList | null = e.currentTarget.files;\n    if (files?.length) {\n      getBase64(files[0]).then((res) => setImg(res));\n    }\n  };\n  return (\n    <div className=\"upload-wrapper\">\n      <div className=\"upload-container\" ref={elRef}>\n        <h2>Sniffing Time</h2>\n        <p>\n          Lets start by uploading an image of a cat or a dog and let me sniff !\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"upload-form\">\n          <div className=\"results\">\n            {loading && <p>Loading....</p>}\n            {response && (\n              <span>\n                This pal is <strong>{response?.confidence}</strong> a{\" \"}\n                <strong>{response?.prediction}</strong>\n              </span>\n            )}\n          </div>\n\n          <input\n            className=\"browse\"\n            type=\"file\"\n            name=\"img\"\n            placeholder=\"yo\"\n            ref={file}\n            onChange={handleOnChange}\n          />\n\n          {img ? (\n            <img className=\"preview\" src={img} alt=\"preview\"></img>\n          ) : (\n            <div className=\"place-holder\">?</div>\n          )}\n          <div className=\"btns\">\n            <button type=\"button\" onClick={handleClick}>\n              Upload Photo\n            </button>\n            <button type=\"submit\" className=\"submit-btn\">\n              Sniff Sniff...\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Upload;\n\ninterface Response {\n  confidence: string;\n  prediction: string;\n}\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer>\n      Site was made by <strong>Yuval Karif</strong> and API by{\" \"}\n      <strong>Guy Baron</strong>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Upload from \"./components/Upload\";\nimport Footer from \"./components/Footer\";\nimport \"./styles/components.scss\";\nimport { useScroll } from \"./hooks/useScroll\";\nfunction App() {\n  let [executeScroll, elRef] = useScroll<HTMLDivElement>({\n    behavior: \"smooth\",\n    block: \"start\",\n  });\n  return (\n    <div>\n      <Header />\n      <Main executeScroll={executeScroll} />\n      <Upload elRef={elRef} />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import { RefObject, useRef } from \"react\";\n\nexport const useScroll = <T extends HTMLElement>(\n  options?: boolean | ScrollIntoViewOptions\n): [() => void, RefObject<T>] => {\n  const elRef = useRef<T>(null);\n  const executeScroll = (): void => {\n    if (elRef.current) {\n      elRef.current.scrollIntoView(options);\n    }\n  };\n\n  return [executeScroll, elRef];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n//Styling\nimport \"./styles/global.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}